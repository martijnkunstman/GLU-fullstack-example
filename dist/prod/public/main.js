!function(i){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=i,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=1)}([function(t,e,i){"use strict";e.a=function(t){return console.log(t)}},function(t,e,i){"use strict";i.r(e),function(t){var e=i(0);i(3),i(4);Object(e.a)("A very warm welcome to Expack!"),void 0!==t.hot&&t.hot.accept()}.call(this,i(2)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,i){},function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var d=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;f(this,i),this.x=t,this.y=e}return h(i,[{key:"distance",value:function(t){return Math.sqrt(Math.pow(this.y-t.y,2)+Math.pow(this.x-t.x,2))}},{key:"angle",value:function(t){return 180*Math.atan2(this.y-t.y,this.x-t.x)/Math.PI}}]),i}(),a=function(){function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new d,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;f(this,o),this.sprite=new Image,this.spriteLoaded=!1,this.point=new d,this.width=0,this.height=0,this.sprite.addEventListener("load",this.load.bind(this)),this.sprite.src=t,this.point.x=e.x,this.point.y=e.y,this.rotation=i,this.speed=n}return h(o,[{key:"load",value:function(t){this.width=t.currentTarget.width,this.height=t.currentTarget.height,this.spriteLoaded=!0,t.currentTarget.removeEventListener("load",this.load)}},{key:"draw",value:function(t){this.spriteLoaded&&(t.save(),t.translate(this.point.x,this.point.y),t.rotate(this.rotation*Math.PI/180),t.drawImage(this.sprite,-this.width/2,-this.height/2),t.restore())}}]),o}(),s=function(){function c(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new d,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,h=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return f(this,c),(e=u(this,p(c).call(this,t,i,n,o))).speedMax=0,e.speedDamping=0,e.steer=0,e.steerMax=0,e.steerDamping=0,e.horizontal=0,e.vertical=0,e.difference=.5,e.speedMax=r,e.speedDamping=s,e.steer=h,e.steerMax=a,e.steerDamping=l,e}return n(c,a),h(c,[{key:"update",value:function(t,e,i,n,o,r){if(t&&(this.vertical+=this.difference),e&&(this.vertical-=this.difference),i&&(this.horizontal-=this.difference),n&&(this.horizontal+=this.difference),this.horizontal>this.speedMax&&(this.horizontal=this.speedMax),this.horizontal<-this.speedMax&&(this.horizontal=-this.speedMax),this.vertical>this.speedMax&&(this.vertical=this.speedMax),this.vertical<-this.speedMax&&(this.vertical=-this.speedMax),0!=this.horizontal&&(0<this.horizontal?(this.horizontal=this.horizontal-this.steerDamping,this.horizontal<0&&(this.horizontal=0)):(this.horizontal=this.horizontal+this.steerDamping,0<this.horizontal&&(this.horizontal=0))),0!=this.vertical&&(0<this.vertical?(this.vertical=this.vertical-this.steerDamping,this.vertical<0&&(this.vertical=0)):(this.vertical=this.vertical+this.steerDamping,0<this.vertical&&(this.vertical=0))),this.point.x+=this.horizontal,this.point.y-=this.vertical,this.vertical>this.difference||this.vertical<-this.difference||this.horizontal>this.difference||this.horizontal<-this.difference){var s=180*Math.atan2(this.point.y-(this.point.y-this.vertical),-this.point.x+(this.point.x-this.horizontal))/Math.PI,h=this.rotation-s;180<h&&(h=-360+h),h<-180&&(h=360+h),this.rotation=this.rotation-h/8}this.point.x>o&&(this.point.x=0),this.point.y>r&&(this.point.y=0),this.point.x<0&&(this.point.x=o),this.point.y<0&&(this.point.y=r)}}]),c}(),l=function(){function s(){var t,e,i;f(this,s);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return u(i,(e=i=u(this,(t=p(s)).call.apply(t,[this].concat(o))),i.timer=0,i.fireRate=100,e))}return n(s,a),h(s,[{key:"update",value:function(t,e,i,n,o,r){var s=180*Math.atan2(this.point.y-r,this.point.x-o)/Math.PI,h=this.rotation-s;180<h&&(h=-360+h),h<-180&&(h=360+h),this.rotation=this.rotation-h/128,this.point.x-=this.speed*Math.cos(this.rotation*Math.PI/180),this.point.y-=this.speed*Math.sin(this.rotation*Math.PI/180),this.point.x>e&&(this.point.x=0),this.point.y>i&&(this.point.y=0),this.point.x<0&&(this.point.x=e),this.point.y<0&&(this.point.y=i),this.timer++,this.timer>this.fireRate&&(this.timer=0,n.push(new c("./assets/img/bullet.png",new d(this.point.x,this.point.y),this.rotation,8)))}}]),s}(),c=function(){function t(){return f(this,t),u(this,p(t).apply(this,arguments))}return n(t,a),h(t,[{key:"update",value:function(t,e,i,n,o,r){this.point.x-=this.speed*Math.cos(this.rotation*Math.PI/180),this.point.y-=this.speed*Math.sin(this.rotation*Math.PI/180),this.point.x<0&&(n[t]=null),this.point.y<0&&(n[t]=null),this.point.x>e&&(n[t]=null),this.point.y>i&&(n[t]=null),this.speed<0&&(n[t]=null)}}]),t}(),y=function(){function t(){f(this,t),this.keyUpActive=!1,this.keyDownActive=!1,this.keyRightActive=!1,this.keyLeftActive=!1,document.addEventListener("keydown",this.keyDown.bind(this)),document.addEventListener("keyup",this.keyUp.bind(this))}return h(t,[{key:"keyDown",value:function(t){switch(t.code){case"ArrowUp":this.keyUpActive=!0;break;case"ArrowDown":this.keyDownActive=!0;break;case"ArrowLeft":this.keyLeftActive=!0;break;case"ArrowRight":this.keyRightActive=!0}}},{key:"keyUp",value:function(t){switch(t.code){case"ArrowUp":this.keyUpActive=!1;break;case"ArrowDown":this.keyDownActive=!1;break;case"ArrowLeft":this.keyLeftActive=!1;break;case"ArrowRight":this.keyRightActive=!1}}}]),t}();new(function(){function r(t,e,i){f(this,r),this.input=new y,this.gameElements=new Array,this.player=new s("./assets/img/player.png",new d(t/2,e/2),0,0,5,.2,0,3,.1),this.width=t,this.height=e;for(var n=0;n<i;n++)this.gameElements.push(new l("./assets/img/enemy.png",new d(Math.random()*t,Math.random()*e),0,4)),this.gameElements[n].fireRate=4;var o=document.createElement("canvas");o.id="game",o.width=t,o.height=e,o.style.zIndex="1",o.style.position="absolute",o.style.border="1px solid",document.getElementsByTagName("body")[0].appendChild(o),window.requestAnimationFrame(this.gameloop.bind(this))}return h(r,[{key:"gameloop",value:function(){for(var t in this.player.update(this.input.keyUpActive,this.input.keyDownActive,this.input.keyLeftActive,this.input.keyRightActive,this.width,this.height),this.gameElements)this.gameElements[t].update(t,this.width,this.height,this.gameElements,this.player.point.x,this.player.point.y);this.gameElements=this.gameElements.filter(Boolean);var e=document.getElementById("game").getContext("2d");for(var i in e.clearRect(0,0,this.width,this.height),this.player.draw(e),this.gameElements)this.gameElements[i].draw(e);window.requestAnimationFrame(this.gameloop.bind(this))}}]),r}())(500,500,5)}]);